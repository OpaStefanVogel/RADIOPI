<html>
<head>
  <title>QUADRO</title>
  <meta charset="utf-8"/>
<style>
button {font-size:200%}
  </style>
<script>
 var aktuelle_Position=[20,530,0]
 var Stangen=[];
function Richtung(dr,dh,dv) {
  var Q=document.getElementById("Quadromännchen");
  Q.setAttribute("cx",Q.getAttribute("cx")*1+dr-dv/2.5);
  Q.setAttribute("cy",Q.getAttribute("cy")*1+dh+dv/2);
  //Q.setAttribute("r",Q.getAttribute("r")*2**(dv/333));
  ST=document.getElementById("Musterstange").cloneNode(true);
  ST.removeAttribute("id");
  ST.firstElementChild.setAttribute("x1",aktuelle_Position[0]);
  ST.firstElementChild.setAttribute("y1",aktuelle_Position[1]); 
  ST.firstElementChild.nextElementSibling.setAttribute("cx",aktuelle_Position[0]);
  ST.firstElementChild.nextElementSibling.setAttribute("cy",aktuelle_Position[1]);
  aktuelle_Position[0]=aktuelle_Position[0]+dr-dv/2.5;
  aktuelle_Position[1]=aktuelle_Position[1]+dh+dv/2;
  aktuelle_Position[2]=aktuelle_Position[2]+dv;
  ST.firstElementChild.setAttribute("x2",aktuelle_Position[0]);
  ST.firstElementChild.setAttribute("y2",aktuelle_Position[1]);
  ST.lastElementChild.setAttribute("cx",aktuelle_Position[0]);
  ST.lastElementChild.setAttribute("cy",aktuelle_Position[1]);
  document.getElementById("Grafik").appendChild(ST);
  document.getElementById("Log").firstChild.nodeValue=[aktuelle_Position[0].toFixed(1),aktuelle_Position[1].toFixed(1)];
  }

function wo_bin_ich() {
  //alert("Hallo Laura, ich bin hieeeer");
  //alert(event.target);
  var Q=document.getElementById("Quadromännchen");
  Q.setAttribute("cx",event.target.getAttribute("cx")*1);
  Q.setAttribute("cy",event.target.getAttribute("cy")*1);
  aktuelle_Position[0]=event.target.getAttribute("cx")*1;
  aktuelle_Position[1]=event.target.getAttribute("cy")*1;
  //alert(aktuelle_Position);
  document.getElementById("Log").firstChild.nodeValue=aktuelle_Position;
  }

var was_geloescht_werden_soll=0;
function Löschknopf() {
  was_geloescht_werden_soll=event.target.parentNode;
  }

function Löschen() {
  if (was_geloescht_werden_soll!=0) was_geloescht_werden_soll.remove(); else
    if (document.getElementById("Grafik").lastElementChild.nodeName=="g")
      document.getElementById("Grafik").lastElementChild.remove();   
  was_geloescht_werden_soll=0;
  }

function Farbe(farbe) {
  if (was_geloescht_werden_soll!=0) was_geloescht_werden_soll.firstElementChild.setAttribute("stroke",farbe); else
    if (document.getElementById("Grafik").lastElementChild.nodeName=="g")
      document.getElementById("Grafik").lastElementChild.firstElementChild.setAttribute("stroke",farbe);   
  was_geloescht_werden_soll=0;
  }
  </script>
  </head>
<body>
<div style="position:fixed; top:0px; left:200px;">
<span style="display:flex; flex-direction:row">
<button onclick="Löschen()">Löschen</button>
<button onclick="Farbe('red')" style="background-color:red">rot</button>
<button onclick="Farbe('green')" style="background-color:green">grün</button>
<button onclick="Farbe('blue')" style="background-color:blue">blau</button>
<button onclick="Farbe('orange')" style="background-color:orange">orange</button>
</span>
  </div>
<div style="font-style:italic; white-space:pre-wrap;">

ANLEITUNG:

Die Knöpfe verraten es dir.


</div>
<div style="display:flex; align-items:flex-start">               
<svg id="Grafik" width="900" height="550" viewBox="0 0 900 550" style="border:solid 1px lightgrey" xmlns="http://www.w3.org/2000/svg" stroke="black" fill="none">
  <g id="Musterstange">
    <line x1="10" y1="-130" x2="90" y2="-130" stroke="red" stroke-width="10" onclick="Löschknopf()" draggable="true" ondragstart="alert('dragstart')"/>
    <circle cx="10" cy="-130" r="6" fill="black" onclick="wo_bin_ich()"/>
    <circle cx="90" cy="-130" r="6" fill="black" onclick="wo_bin_ich()"/>
    </g>
  <circle id="Quadromännchen" fill="aqua" cx="20" cy="530" r="15"/>
  </svg>
</div>               
<div>               
<button onclick="Richtung(-80,0,0)">links</button>
<button onclick="Richtung(0,-80,0)">hoch</button>
<button onclick="Richtung(80,0,0)">rechts</button>
<button onclick="Richtung(0,80,0)">runter</button>
<button onclick="Richtung(0,0,-80)">hinter</button>
<button onclick="Richtung(0,0,80)">vor</button>
<span id="Log"> </span>
</div>               
<div>               
<button onclick="Richtung(-(-120+153.1370849898476)/2,0,0)">Mini links</button>
<button onclick="Richtung(80/Math.sqrt(2),-80/Math.sqrt(2),0)">schräg rechts hoch</button>
<button onclick="Richtung(80/Math.sqrt(2),80/Math.sqrt(2),0)">schräg rechts runter</button>
<button onclick="Richtung(-(-120+153.1370849898476)/2,0,0)">Mini links</button>
</div>               
<div>               
<button onclick="Richtung((-120+153.1370849898476)/2,0,0)">Mini rechts</button>
<button onclick="Richtung(-80/Math.sqrt(2),-80/Math.sqrt(2),0)">schräg links hoch</button>
<button onclick="Richtung(-80/Math.sqrt(2),80/Math.sqrt(2),0)">schräg links runter</button>
<button onclick="Richtung((-120+153.1370849898476)/2,0,0)">Mini rechts</button>
</div>
<div>               
<button onclick="Richtung(0,-(-120+153.1370849898476)/2,0)">Mini hoch</button>
<button onclick="Richtung(0,(-120+153.1370849898476)/2,0)">Mini runter</button>
</div>               
  </body>
  </html>
